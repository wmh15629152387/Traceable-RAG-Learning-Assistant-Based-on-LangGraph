# Traceable-RAG-Learning-Assistant-Based-on-LangGraph
面向个人学习资料的智能问答系统，基于 RAG 架构将课程 PPT、笔记等非结构化内容构建为私有知识库，支持自然语言检索与问答。通过 LangGraph 编排检索、生成与校验流程，实现答案可追溯，并在个人资料未覆盖时明确标注知识边界，结合通用知识进行补充说明，降低误导风险。

# 基于 LangGraph 的可追溯 RAG 学习助手

一个面向**个人学习资料**的智能问答系统，基于 **RAG（Retrieval-Augmented Generation）** 架构构建私有知识库，并通过 **LangGraph** 对问答流程进行可控编排，实现**答案可追溯、知识边界清晰、低误导风险**的学习助手。

---

## ✨ 项目亮点

- 📚 支持将课程 PPT、PDF、Markdown 笔记、博客收藏等非结构化学习资料构建为私有知识库  
- 🔍 融合向量检索 + BM25 的 Hybrid Retrieval，提升多资料场景下的召回与排序效果  
- 🔗 回答结果与原始资料强绑定，**可追溯到具体文档与页码/章节**  
- 🧠 基于 LangGraph 对 RAG 流程进行图调度，支持多轮循环与条件分支  
- ⚠️ 内置 Self-Check 反思机制，明确标注“资料未涉及”，避免幻觉与误导  

---

## 🧱 技术栈

- **后端框架**：Python、FastAPI  
- **LLM 生态**：LangChain、LangGraph  
- **检索增强生成**：RAG、Hybrid Retrieval（Vector + BM25）  
- **数据库**：PostgreSQL  
- **模型**：Embedding 模型、LLM（可配置）  

---

## 📖 项目简介

本项目是一个面向个人学习场景的智能问答系统。  
通过 RAG 架构，将用户的课程 PPT、学习笔记、PDF 文档等非结构化内容构建为私有知识库，支持自然语言检索与问答。

在问答流程中，使用 **LangGraph** 对 Query 理解、检索、重排序、生成与反思（Self-Check）进行状态化编排，实现：

- 回答**严格基于个人资料生成**
- 每条结论均可回溯到原始学习资料
- 当资料覆盖不足时，明确标注知识边界，并结合通用知识进行补充说明

---

## 🧠 系统架构概览

```text
用户问题
   ↓
Query 理解
   ↓
多路召回（向量检索 + BM25）
   ↓
Rerank（跨文档重排序）
   ↓
答案生成（绑定证据）
   ↓
Self-Check / 证据覆盖判断
   ├─ 覆盖不足 → Query 改写 → 重检索
   └─ 多次失败 → 标注“资料未涉及” + 通用知识补充
````

---

## 🔧 核心功能与实现

### 1️⃣ 文档入库与私有知识库构建

* 支持 **PPT、PDF、Markdown、博客收藏** 等多种学习资料
* 文档解析、清洗与语义切分
* 在入库阶段保留 **文档名、页码 / 章节等定位元数据**
* 构建支持可追溯的向量化私有知识库

---

### 2️⃣ RAG 检索流程设计

* 针对自然语言问题进行 **Query 理解**
* 多路召回策略：

  * 向量检索（Embedding 相似度）
  * BM25 关键词检索
* 融合形成 **Hybrid Retrieval**
* 使用 Rerank 提升跨文档、多资料场景下的：

  * 召回覆盖率
  * 排序准确性
* 确保回答内容严格来源于个人学习资料

---

### 3️⃣ 答案可追溯与引用机制

* 在生成阶段将 **回答与检索证据绑定**
* 每条结论均可定位到：

  * 具体文档
  * 页码或章节
* 支持从最终答案**反向回溯到原始学习资料**

---

### 4️⃣ 基于 LangGraph 的流程编排

* 使用 LangGraph 对 RAG 问答流程进行 **图强调度**
* 将以下节点进行状态化编排：

  * Query 理解
  * 检索
  * 重排序
  * 答案生成
  * 反思（Self-Check）
* 支持：

  * 多轮循环
  * 条件分支控制
  * 动态流程调整

---

### 5️⃣ Self-Check 与知识边界控制

* 对关键结论进行 **证据覆盖率评估**
* 当覆盖不足时：

  * 触发 Query 改写
  * 重新检索（可多轮）
* 多次失败后：

  * 明确标注 **“资料未涉及”**
  * 在标注前提下结合通用知识进行补充说明
* 有效降低模型幻觉与误导风险

---

## 🚀 适用场景

* 个人课程学习 / 自学资料管理
* 面向考试、技术学习的私有知识问答
* 可控、可追溯的 AI 学习助手原型
* RAG / LangGraph 实践与研究项目

---

## 📌 项目状态

* 当前为个人应用项目 / 学习型项目
* 支持根据不同 LLM 与 Embedding 模型进行灵活配置

---



